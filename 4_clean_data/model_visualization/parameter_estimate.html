<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.8.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "title": {"anchor": "middle", "fontSize": 18, "subtitleFontSize": 14}}, "data": {"name": "data-259f82c242c1bccb51f52c8f716edf63"}, "mark": {"type": "point", "filled": false, "opacity": 0.7, "size": 100}, "encoding": {"color": {"field": "estimate_description", "type": "nominal"}, "column": {"align": "each", "field": "col_header", "header": {"labelFontSize": 14, "labelFontWeight": "bold"}, "title": null, "type": "nominal"}, "row": {"align": "each", "field": "comparison_name", "header": {"labelAlign": "left", "labelAnchor": "middle", "labelAngle": 0, "labelFontSize": 12, "labelFontWeight": "bold"}, "sort": {"field": "comparison_sort_order"}, "title": null, "type": "nominal"}, "shape": {"field": "estimate_description", "scale": {"range": ["circle", "square", "triangle", "diamond"]}, "type": "nominal"}, "tooltip": [{"field": "comparison_name", "type": "nominal"}, {"field": "estimate_description", "type": "nominal"}, {"field": "estimated_probability", "type": "quantitative"}], "x": {"axis": {"gridColor": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": "#aaa"}, "value": "#ddd"}, "gridDash": {"condition": {"test": "abs(datum.value / 10) == 1", "value": [3]}, "value": null}, "gridWidth": {"condition": {"test": "abs(datum.value / 10)  <= 1 & datum.value % 10 === 0", "value": 2}, "value": 1}}, "field": "estimated_probability_as_log_odds", "title": "Estimated probability as log odds", "type": "quantitative"}, "y": {"axis": {"grid": true, "title": null}, "field": "comparison_level_label", "sort": {"field": "comparison_vector_value", "order": "descending"}, "type": "nominal"}}, "params": [{"name": "mouse_zoom", "select": {"type": "interval", "encodings": ["x"]}, "bind": "scales"}], "resolve": {"scale": {"y": "independent"}}, "title": {"text": "Comparison of parameter estimates across training sessions", "subtitle": "Use mousewheel to zoom"}, "transform": [{"calculate": "datum.m_or_u + '-probability (as log odds)'", "as": "col_header"}], "$schema": "https://vega.github.io/schema/vega-lite/v5.9.3.json", "datasets": {"data-259f82c242c1bccb51f52c8f716edf63": [{"m_or_u": "m", "estimated_probability": 0.05512854683545312, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -4.099246590262382, "sql_condition": "name_l = name_r", "comparison_level_label": "Exact match", "comparison_vector_value": 5, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.1190456341093608, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -2.887552576329093, "sql_condition": "jaro_winkler(name_l, name_r) >= 0.9", "comparison_level_label": "Jaro Winkler similarity >= to 0.9", "comparison_vector_value": 4, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.2018817500339764, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -1.98309201540351, "sql_condition": "jaro_winkler(name_l, name_r) >= 0.8", "comparison_level_label": "Jaro Winkler similarity >= 0.8", "comparison_vector_value": 3, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.0014479679882142943, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -9.429664087016558, "sql_condition": "damerau_levenshtein(name_l, name_r) <= 3", "comparison_level_label": "Damerau Levenshtein distance <= 3", "comparison_vector_value": 2, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.026902449355565634, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -5.176775003670353, "sql_condition": "damerau_levenshtein(name_l, name_r) <= 5", "comparison_level_label": "Damerau Levenshtein distance <= 5", "comparison_vector_value": 1, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.5955936516774298, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": 0.5585227319091882, "sql_condition": "ELSE", "comparison_level_label": "All other comparisons", "comparison_vector_value": 0, "comparison_name": "name", "comparison_sort_order": 0}, {"m_or_u": "m", "estimated_probability": 0.0026333268873315573, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -8.565093565037047, "sql_condition": "`caregiver_l` = `caregiver_r`", "comparison_level_label": "Exact match caregiver", "comparison_vector_value": 5, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.01274069755562989, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -6.275912883835461, "sql_condition": "damerau_levenshtein(`caregiver_l`, `caregiver_r`) <= 3", "comparison_level_label": "Damerau_levenshtein <= 3", "comparison_vector_value": 4, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.02807959931978663, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -5.113243908923067, "sql_condition": "damerau_levenshtein(`caregiver_l`, `caregiver_r`) <= 5", "comparison_level_label": "Damerau_levenshtein <= 5", "comparison_vector_value": 3, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.0068734414369431346, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -7.174801150966694, "sql_condition": "jaro_winkler(`caregiver_l`, `caregiver_r`) >= 0.9", "comparison_level_label": "Jaro_winkler >= 0.9", "comparison_vector_value": 2, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.050786652127629464, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -4.224211108621497, "sql_condition": "jaro_winkler(`caregiver_l`, `caregiver_r`) >= 0.8", "comparison_level_label": "Jaro_winkler >= 0.8", "comparison_vector_value": 1, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.8988862826726793, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": 3.152159883222228, "sql_condition": "ELSE", "comparison_level_label": "All other comparisons", "comparison_vector_value": 0, "comparison_name": "caregiver", "comparison_sort_order": 1}, {"m_or_u": "m", "estimated_probability": 0.8142352033224152, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": 2.1319684675309816, "sql_condition": "`fup_l` = `fup_r`", "comparison_level_label": "Exact match", "comparison_vector_value": 1, "comparison_name": "fup", "comparison_sort_order": 2}, {"m_or_u": "m", "estimated_probability": 0.18576479667758494, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -2.1319684675309807, "sql_condition": "ELSE", "comparison_level_label": "All other comparisons", "comparison_vector_value": 0, "comparison_name": "fup", "comparison_sort_order": 2}, {"m_or_u": "m", "estimated_probability": 0.010089370885852067, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": -6.6163901576684045, "sql_condition": "`vacdate_l` = `vacdate_r`", "comparison_level_label": "Exact match", "comparison_vector_value": 1, "comparison_name": "vacdate", "comparison_sort_order": 3}, {"m_or_u": "m", "estimated_probability": 0.9899106291141478, "estimate_description": "EM, blocked on: (l.`dob` = r.`dob`) AND (l.`ethnic` = r.`ethnic`) AND (l.`sex` = r.`sex`) AND (l.`initials` = r.`initials`)", "estimated_probability_as_log_odds": 6.616390157668391, "sql_condition": "ELSE", "comparison_level_label": "All other comparisons", "comparison_vector_value": 0, "comparison_name": "vacdate", "comparison_sort_order": 3}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>